{"cells":[{"kind":1,"value":"# Vertipaq Analyzer for VSCode\r\nThis notebook is based on DAX queries originally created by [Hariharan Rajendran](https://www.linkedin.com/in/imhariharanr/) and can be found in [this repository](https://github.com/rhariharaneee/Power-BI/tree/master/Vertipaq%20Analyzer%20in%20DAX%20Query%20View).\r\n\r\n*Last Update: 2024-04-29*","languageId":"markdown","outputs":[],"metadata":{},"executionSummary":{}},{"kind":2,"value":"%cmd\r\nSET API_PATH = /groups/a796cb5f-5638-491c-aae7-58a8a5365525/datasets/86cb88ab-6c5c-483f-8baf-15016b6a8091","languageId":"powerbi-api","outputs":[],"metadata":{},"executionSummary":{}},{"kind":1,"value":"# Memory Usage by table\r\nhttps://github.com/rhariharaneee/Power-BI/blob/master/Vertipaq%20Analyzer%20in%20DAX%20Query%20View/Vertipaq%20-%20Table.dax","languageId":"markdown","outputs":[],"metadata":{},"executionSummary":{}},{"kind":2,"value":"%dax\r\n// Author - Hariharan Rajendran\r\n// Name - VertiPaq Analyser Metrics - Table View in DAX Query View\r\n// Version - 1.0\r\n// Contact - https://www.linkedin.com/in/imhariharanr/\r\nDEFINE\r\n\t// Get the table and the cardinality\r\n\tVAR _TableCardinality = GROUPBY(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLES(),\r\n\t\t\tRIGHT(\r\n\t\t\t\tLEFT(\r\n\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\t1\r\n\t\t\t) <> \"$\"\r\n\t\t),\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"Cardinality\",\r\n\t\tSUMX(\r\n\t\t\tCURRENTGROUP(),\r\n\t\t\t[ROWS_COUNT]\r\n\t\t),\r\n\t\t\"RI Violations\",\r\n\t\tSUMX(\r\n\t\t\tCURRENTGROUP(),\r\n\t\t\t[RIVIOLATION_COUNT]\r\n\t\t)\r\n\t)\r\n\tVAR _DataSize = GROUPBY(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNSEGMENTS(),\r\n\t\t\tRIGHT(\r\n\t\t\t\tLEFT(\r\n\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\t1\r\n\t\t\t) <> \"$\"\r\n\t\t),\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"DataSize\",\r\n\t\tSUMX(\r\n\t\t\tCURRENTGROUP(),\r\n\t\t\t[USED_SIZE]\r\n\t\t)\r\n\t)\r\n\tVAR _HierSize = GROUPBY(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNSEGMENTS(),\r\n\t\t\tLEFT(\r\n\t\t\t\t[TABLE_ID],\r\n\t\t\t\t2\r\n\t\t\t) = \"H$\" && [SEGMENT_NUMBER] = 0\r\n\t\t),\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"HierSize\",\r\n\t\tSUMX(\r\n\t\t\tCURRENTGROUP(),\r\n\t\t\t[USED_SIZE]\r\n\t\t)\r\n\t)\r\n\t/*\r\n\t\tAdded by Ricardo Rincón https://www.linkedin.com/in/nexus150/\r\n\t\t_UserHierSize  = to obtain the size of the user hierarchies\r\n\t*/\r\n\tVAR _UserHierSize = GROUPBY(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNSEGMENTS(),\r\n\t\t\tLEFT(\r\n\t\t\t\t[TABLE_ID],\r\n\t\t\t\t2\r\n\t\t\t) = \"U$\" && [SEGMENT_NUMBER] = 0\r\n\t\t),\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"UserHierSize\",\r\n\t\tSUMX(\r\n\t\t\tCURRENTGROUP(),\r\n\t\t\t[USED_SIZE]\r\n\t\t)\r\n\t)\r\n\t/*\r\n\t\tAdded by Ricardo Rincón https://www.linkedin.com/in/nexus150/\r\n\t\t_UserRelSize = to obtain the size of the relationships\r\n\t*/\r\n\tVAR _RelSize = GROUPBY(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNSEGMENTS(),\r\n\t\t\tLEFT(\r\n\t\t\t\t[TABLE_ID],\r\n\t\t\t\t2\r\n\t\t\t) = \"R$\" && [SEGMENT_NUMBER] = 0\r\n\t\t),\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"RelSize\",\r\n\t\tSUMX(\r\n\t\t\tCURRENTGROUP(),\r\n\t\t\t[USED_SIZE]\r\n\t\t)\r\n\t)\r\n\tVAR _DicSize = GROUPBY(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNS(),\r\n\t\t\t[COLUMN_TYPE] = \"BASIC_DATA\"\r\n\t\t),\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"DicSize\",\r\n\t\tSUMX(\r\n\t\t\tCURRENTGROUP(),\r\n\t\t\t[DICTIONARY_SIZE]\r\n\t\t)\r\n\t)\r\n\tVAR _Table = SELECTCOLUMNS(\r\n\t\tNATURALINNERJOIN(\r\n\t\t\tADDCOLUMNS(\r\n\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\t\tNATURALINNERJOIN(\r\n\t\t\t\t\t\t\tNATURALINNERJOIN(\r\n\t\t\t\t\t\t\t\t_DataSize,\r\n\t\t\t\t\t\t\t\t_HierSize\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t_DicSize\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t_RelSize\r\n\t\t\t\t\t),\r\n\t\t\t\t\t_UserHierSize\r\n\t\t\t\t),\r\n\t\t\t\t\"Total Size\", [DataSize] + [DicSize] + [HierSize] + [RelSize] + [UserHierSize]\r\n\t\t\t),\r\n\t\t\t_TableCardinality\r\n\t\t),\r\n\t\t\"Table Name\",\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"Cardinality\",\r\n\t\t[Cardinality],\r\n\t\t\"Total Size\",\r\n\t\t[Total Size],\r\n\t\t\"Data\",\r\n\t\t[DataSize],\r\n\t\t\"Dictionary\",\r\n\t\t[DicSize],\r\n\t\t\"Hier Size\",\r\n\t\t[HierSize],\r\n\t\t\"User Hier Size\",\r\n\t\t[UserHierSize],\r\n\t\t\"Rel Size\",\r\n\t\t[RelSize],\r\n\t\t\"RI Violations\",\r\n\t\t[RI Violations]\r\n\t)\r\n\r\nEVALUATE\r\n\tADDCOLUMNS(\r\n\t\t_Table,\r\n\t\t\"DB%\", FORMAT(\r\n\t\t\tDIVIDE(\r\n\t\t\t\t[Total Size],\r\n\t\t\t\tSUMX(\r\n\t\t\t\t\t_Table,\r\n\t\t\t\t\t[Total Size]\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\t\"0.00%\"\r\n\t\t)\r\n\t)\r\n\tORDER BY [Total Size] DESC","languageId":"powerbi-api","outputs":[],"metadata":{},"executionSummary":{"timing":{"startTime":1714383397130,"endTime":1714383398448},"executionOrder":9,"success":true}},{"kind":1,"value":"# Memory Usage by column\r\n","languageId":"markdown","outputs":[],"metadata":{},"executionSummary":{}},{"kind":2,"value":"%dax\r\n// Author - Hariharan Rajendran\r\n// Name - VertiPaq Analyser Metrics - Column View in DAX Query View\r\n// Version - 1.0\r\n// Contact - https://www.linkedin.com/in/imhariharanr/\r\nDEFINE\r\n\tVAR _Column = SELECTCOLUMNS(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNS(),\r\n\t\t\t[COLUMN_TYPE] = \"BASIC_DATA\"\r\n\t\t),\r\n\t\t\"Table Name\",\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"Column Name\",\r\n\t\t[ATTRIBUTE_NAME],\r\n\t\t\"Data Type\",\r\n\t\tSWITCH(\r\n\t\t\t[DATATYPE],\r\n\t\t\t\"DBTYPE_I8\", \"Int64\",\r\n\t\t\t\"DBTYPE_WSTR\", \"String\",\r\n\t\t\t\"DBTYPE_CY\", \"Decimal\",\r\n\t\t\t\"DBTYPE_BOOL\", \"Boolean\",\r\n\t\t\t\"DBTYPE_DATE\", \"DateTime\",\r\n\t\t\t\"DBTYPE_R8\", \"Double\",\r\n\t\t\t[DATATYPE]\r\n\t\t),\r\n\t\t\"Dictionary Size\",\r\n\t\t[DICTIONARY_SIZE],\r\n\t\t\"Column Encoding\",\r\n\t\tSWITCH(\r\n\t\t\t[COLUMN_ENCODING],\r\n\t\t\t1, \"HASH\",\r\n\t\t\t2, \"VALUE\"\r\n\t\t)\r\n\t)\r\n\tVAR _DataSize = SELECTCOLUMNS(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNSEGMENTS(),\r\n\t\t\tRIGHT(\r\n\t\t\t\tLEFT(\r\n\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\t1\r\n\t\t\t// Exclude the columns\r\n\t\t\t) <> \"$\"\r\n\t\t),\r\n\t\t\"Table Name\",\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"Data Size\",\r\n\t\t[USED_SIZE],\r\n\t\t\"Column Name\",\r\n\t\tSUBSTITUTE(\r\n\t\t\tLEFT(\r\n\t\t\t\t[COLUMN_ID],\r\n\t\t\t\tSEARCH(\r\n\t\t\t\t\t\" (\",\r\n\t\t\t\t\t[COLUMN_ID],\r\n\t\t\t\t\t1,\r\n\t\t\t\t\tLEN([COLUMN_ID]) - 1\r\n\t\t\t\t) - 1\r\n\t\t\t),\r\n\t\t\t\"RowNumber \",\r\n\t\t\t\"RowNumber-\"\r\n\t\t)\r\n\t)\r\n\tVAR _HierSize = SELECTCOLUMNS(\r\n\t\tGROUPBY(\r\n\t\t\tFILTER(\r\n\t\t\t\tINFO.STORAGETABLECOLUMNSEGMENTS(),\r\n\t\t\t\tLEFT(\r\n\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t2\r\n\t\t\t\t) = \"H$\" && [SEGMENT_NUMBER] = 0\r\n\t\t\t),\r\n\t\t\t[DIMENSION_NAME],\r\n\t\t\t[TABLE_ID],\r\n\t\t\t\"HierSize\",\r\n\t\t\tSUMX(\r\n\t\t\t\tCURRENTGROUP(),\r\n\t\t\t\t[USED_SIZE]\r\n\t\t\t)\r\n\t\t),\r\n\t\t\"Table Name\",\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"HierSize\",\r\n\t\t[HierSize],\r\n\t\t\"Column Name\",\r\n\t\tVAR _1 = FIND(\r\n\t\t\t\"$\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t1\r\n\t\t)\r\n\t\tVAR _2 = FIND(\r\n\t\t\t\"$\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t_1 + 1\r\n\t\t)\r\n\t\tVAR _len = LEN([TABLE_ID])\r\n\t\tVAR _stage1 = MID(\r\n\t\t\t[TABLE_ID],\r\n\t\t\t_2 + 1,\r\n\t\t\t_len - _2 + 1\r\n\t\t)\r\n\t\tVAR _final = LEFT(\r\n\t\t\t_stage1,\r\n\t\t\tSEARCH(\r\n\t\t\t\t\" (\",\r\n\t\t\t\t_stage1,\r\n\t\t\t\t1,\r\n\t\t\t\tLEN(_stage1) - 1\r\n\t\t\t) - 1\r\n\t\t)\r\n\t\tRETURN\r\n\t\t\t_Final\r\n\t)\r\n\tVAR _TableCardinality = SELECTCOLUMNS(\r\n\t\tGROUPBY(\r\n\t\t\tFILTER(\r\n\t\t\t\tINFO.STORAGETABLES(),\r\n\t\t\t\tRIGHT(\r\n\t\t\t\t\tLEFT(\r\n\t\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t),\r\n\t\t\t\t\t1\r\n\t\t\t\t// Exclude the columns\r\n\t\t\t\t) <> \"$\"\r\n\t\t\t),\r\n\t\t\t[DIMENSION_NAME],\r\n\t\t\t\"Cardinality\",\r\n\t\t\tSUMX(\r\n\t\t\t\tCURRENTGROUP(),\r\n\t\t\t\t[ROWS_COUNT]\r\n\t\t\t)\r\n\t\t),\r\n\t\t\"Table Name\",\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"Rows\",\r\n\t\t[Cardinality]\r\n\t)\r\n\tVAR _ColumnCardinality = SELECTCOLUMNS(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLES(),\r\n\t\t\tLEFT(\r\n\t\t\t\t[TABLE_ID],\r\n\t\t\t\t2\r\n\t\t\t) = \"H$\"\r\n\t\t),\r\n\t\t\"Table Name\",\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"Column Name\",\r\n\t\tVAR _1 = FIND(\r\n\t\t\t\"$\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t1\r\n\t\t)\r\n\t\tVAR _2 = FIND(\r\n\t\t\t\"$\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t_1 + 1\r\n\t\t)\r\n\t\tVAR _len = LEN([TABLE_ID])\r\n\t\tVAR _stage1 = MID(\r\n\t\t\t[TABLE_ID],\r\n\t\t\t_2 + 1,\r\n\t\t\t_len - _2 + 1\r\n\t\t)\r\n\t\tVAR _final = LEFT(\r\n\t\t\t_stage1,\r\n\t\t\tSEARCH(\r\n\t\t\t\t\" (\",\r\n\t\t\t\t_stage1,\r\n\t\t\t\t1,\r\n\t\t\t\tLEN(_stage1) - 1\r\n\t\t\t) - 1\r\n\t\t)\r\n\t\tRETURN\r\n\t\t\t_Final,\r\n\t\t\"Column Cardinality\",\r\n\t\t[ROWS_COUNT] - 3\r\n\t)\r\n\tVAR _Final = ADDCOLUMNS(\r\n\t\tADDCOLUMNS(\r\n\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\t\t\t_Column,\r\n\t\t\t\t\t\t\t_DataSize\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t_HierSize\r\n\t\t\t\t\t),\r\n\t\t\t\t\t_TableCardinality\r\n\t\t\t\t),\r\n\t\t\t\t_ColumnCardinality\r\n\t\t\t),\r\n\t\t\t\"New Data Size\", IF(\r\n\t\t\t\tISBLANK([Data Size]) && CONTAINSSTRING(\r\n\t\t\t\t\t[Column Name],\r\n\t\t\t\t\t\"RowNumber\"\r\n\t\t\t\t),\r\n\t\t\t\t[Dictionary Size],\r\n\t\t\t\t[Data Size]\r\n\t\t\t)\r\n\t\t),\r\n\t\t\"Col Size\", [New Data Size] + [HierSize] + [Dictionary Size]\r\n\t)\r\n\r\nEVALUATE\r\n\tSELECTCOLUMNS(\r\n\t\t_Final,\r\n\t\t\"Table Name\",\r\n\t\t[Table Name],\r\n\t\t\"Column Name\",\r\n\t\t[Column Name],\r\n\t\t\"Rows\",\r\n\t\t[Rows],\r\n\t\t\"Cardinality\",\r\n\t\t[Column Cardinality] + 0,\r\n\t\t\"Col Size\",\r\n\t\t[Col Size],\r\n\t\t\"Data\",\r\n\t\t[New Data Size],\r\n\t\t\"Dictionary\",\r\n\t\t[Dictionary Size],\r\n\t\t\"Hier Size\",\r\n\t\t[HierSize] + 0,\r\n\t\t\"Encoding\",\r\n\t\t[Column Encoding],\r\n\t\t\"Data Type\",\r\n\t\t[Data Type],\r\n\t\t\"% DB\",\r\n\t\tDIVIDE(\r\n\t\t\t[Col Size],\r\n\t\t\tSUMX(\r\n\t\t\t\t_Final,\r\n\t\t\t\t[Col Size]\r\n\t\t\t)\r\n\t\t) * 100\r\n\t)\r\n\tORDER BY [Col Size] DESC","languageId":"powerbi-api","outputs":[],"metadata":{},"executionSummary":{"timing":{"startTime":1714383500386,"endTime":1714383502081},"executionOrder":10,"success":true}},{"kind":1,"value":"# Memory Usage by relationship\r\nhttps://github.com/rhariharaneee/Power-BI/blob/master/Vertipaq%20Analyzer%20in%20DAX%20Query%20View/Vertipaq%20-%20Relationship.dax","languageId":"markdown","outputs":[],"metadata":{},"executionSummary":{}},{"kind":2,"value":"%dax\r\n// Author - Hariharan Rajendran\r\n// Name - VertiPaq Analyser Metrics - Relationship View in DAX Query View\r\n// Version - 1.0\r\n// Contact - https://www.linkedin.com/in/imhariharanr/\r\nDEFINE\r\n\tVAR _RelationshipSize = SELECTCOLUMNS(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLECOLUMNSEGMENTS(),\r\n\t\t\tLEFT(\r\n\t\t\t\t[TABLE_ID],\r\n\t\t\t\t2\r\n\t\t\t) = \"R$\"\r\n\t\t),\r\n\t\t\"Table Name\",\r\n\t\t[DIMENSION_NAME],\r\n\t\t\"Used Size\",\r\n\t\t[USED_SIZE],\r\n\t\t\"Relationship ID\",\r\n\t\tVAR _1 = FIND(\r\n\t\t\t\"(\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t1\r\n\t\t)\r\n\t\tVAR _2 = FIND(\r\n\t\t\t\"(\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t_1 + 1\r\n\t\t)\r\n\t\tRETURN\r\n\t\t\tSUBSTITUTE(\r\n\t\t\t\tMID(\r\n\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t_2 + 1,\r\n\t\t\t\t\t_2\r\n\t\t\t\t),\r\n\t\t\t\t\")\",\r\n\t\t\t\t\"\"\r\n\t\t\t)\r\n\t)\r\n\tVAR _FromColumnCardinality = SELECTCOLUMNS(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLES(),\r\n\t\t\tLEFT(\r\n\t\t\t\t[TABLE_ID],\r\n\t\t\t\t2\r\n\t\t\t) = \"H$\"\r\n\t\t),\r\n\t\t\"From Column ID\",\r\n\t\tVAR _1 = FIND(\r\n\t\t\t\"(\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t1\r\n\t\t)\r\n\t\tVAR _2 = FIND(\r\n\t\t\t\"(\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t_1 + 1\r\n\t\t)\r\n\t\tRETURN\r\n\t\t\tSUBSTITUTE(\r\n\t\t\t\tMID(\r\n\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t_2 + 1,\r\n\t\t\t\t\t_2\r\n\t\t\t\t),\r\n\t\t\t\t\")\",\r\n\t\t\t\t\"\"\r\n\t\t\t),\r\n\t\t\"From Column Cardinality\",\r\n\t\t[ROWS_COUNT] - 3\r\n\t)\r\n\tVAR _ToColumnCardinality = SELECTCOLUMNS(\r\n\t\tFILTER(\r\n\t\t\tINFO.STORAGETABLES(),\r\n\t\t\tLEFT(\r\n\t\t\t\t[TABLE_ID],\r\n\t\t\t\t2\r\n\t\t\t) = \"H$\"\r\n\t\t),\r\n\t\t\"To Column ID\",\r\n\t\tVAR _1 = FIND(\r\n\t\t\t\"(\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t1\r\n\t\t)\r\n\t\tVAR _2 = FIND(\r\n\t\t\t\"(\",\r\n\t\t\t[TABLE_ID],\r\n\t\t\t_1 + 1\r\n\t\t)\r\n\t\tRETURN\r\n\t\t\tSUBSTITUTE(\r\n\t\t\t\tMID(\r\n\t\t\t\t\t[TABLE_ID],\r\n\t\t\t\t\t_2 + 1,\r\n\t\t\t\t\t_2\r\n\t\t\t\t),\r\n\t\t\t\t\")\",\r\n\t\t\t\t\"\"\r\n\t\t\t),\r\n\t\t\"To Column Cardinality\",\r\n\t\t[ROWS_COUNT] - 3\r\n\t)\r\n\tVAR _Relationship = SELECTCOLUMNS(\r\n\t\tINFO.RELATIONSHIPS(),\r\n\t\t\"Relationship ID\",\r\n\t\tFORMAT(\r\n\t\t\t[ID],\r\n\t\t\t\"###\"\r\n\t\t),\r\n\t\t\"From Table ID\",\r\n\t\t[FromTableID],\r\n\t\t\"From Column ID\",\r\n\t\tFORMAT(\r\n\t\t\t[FromColumnID],\r\n\t\t\t\"####\"\r\n\t\t),\r\n\t\t\"To Table ID\",\r\n\t\t[ToTableID],\r\n\t\t\"To Column ID\",\r\n\t\tFORMAT(\r\n\t\t\t[ToColumnID],\r\n\t\t\t\"###\"\r\n\t\t),\r\n\t\t\"Cross Filter Behavior From\",\r\n\t\tSWITCH(\r\n\t\t\t[CrossFilteringBehavior],\r\n\t\t\t1, \"One\",\r\n\t\t\t2, \"Both\",\r\n\t\t\t\"Something else\"\r\n\t\t),\r\n\t\t\"From Cardinality\",\r\n\t\tSWITCH(\r\n\t\t\t[FromCardinality],\r\n\t\t\t1, \"One\",\r\n\t\t\t2, \"Many\",\r\n\t\t\t\"Something else\"\r\n\t\t),\r\n\t\t\"Cross Filter Behavior (To)\",\r\n\t\tSWITCH(\r\n\t\t\t[CrossFilteringBehavior],\r\n\t\t\t1, \"One\",\r\n\t\t\t2, \"Both\",\r\n\t\t\t\"Something else\"\r\n\t\t),\r\n\t\t\"To Cardinality\",\r\n\t\tSWITCH(\r\n\t\t\t[ToCardinality],\r\n\t\t\t1, \"One\",\r\n\t\t\t2, \"Many\",\r\n\t\t\t\"Something else\"\r\n\t\t)\r\n\t)\r\n\tVAR _FromTable = SELECTCOLUMNS(\r\n\t\tINFO.TABLES(),\r\n\t\t\"From Table ID\",\r\n\t\t[ID],\r\n\t\t\"From TableName\",\r\n\t\t[Name]\r\n\t)\r\n\tVAR _ToTable = SELECTCOLUMNS(\r\n\t\tINFO.TABLES(),\r\n\t\t\"To Table ID\",\r\n\t\t[ID],\r\n\t\t\"To TableName\",\r\n\t\t[Name]\r\n\t)\r\n\tVAR _FromCol = SELECTCOLUMNS(\r\n\t\tINFO.COLUMNS(),\r\n\t\t\"From Column ID\",\r\n\t\tFORMAT(\r\n\t\t\t[ID],\r\n\t\t\t\"####\"\r\n\t\t),\r\n\t\t\"From ColumnName\",\r\n\t\tIF(\r\n\t\t\tISBLANK([ExplicitName]),\r\n\t\t\t[InferredName],\r\n\t\t\t[ExplicitName]\r\n\t\t)\r\n\t)\r\n\tVAR _ToCol = SELECTCOLUMNS(\r\n\t\tINFO.COLUMNS(),\r\n\t\t\"To Column ID\",\r\n\t\tFORMAT(\r\n\t\t\t[ID],\r\n\t\t\t\"####\"\r\n\t\t),\r\n\t\t\"To ColumnName\",\r\n\t\tIF(\r\n\t\t\tISBLANK([ExplicitName]),\r\n\t\t\t[InferredName],\r\n\t\t\t[ExplicitName]\r\n\t\t)\r\n\t)\r\n\r\nEVALUATE\r\n\tSELECTCOLUMNS(\r\n\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\tNATURALINNERJOIN(\r\n\t\t\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\t\t\t_RelationshipSize,\r\n\t\t\t\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\t\t\t\tNATURALLEFTOUTERJOIN(\r\n\t\t\t\t\t\t\t\t\t_Relationship,\r\n\t\t\t\t\t\t\t\t\t_FromColumnCardinality\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t_ToColumnCardinality\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t_FromTable\r\n\t\t\t\t\t),\r\n\t\t\t\t\t_ToTable\r\n\t\t\t\t),\r\n\t\t\t\t_FromCol\r\n\t\t\t),\r\n\t\t\t_ToCol\r\n\t\t),\r\n\t\t\"From Table Name\",\r\n\t\t[From TableName],\r\n\t\t\"From Column Name\",\r\n\t\t[From ColumnName],\r\n\t\t\"To Table Name\",\r\n\t\t[To TableName],\r\n\t\t\"To Column Name\",\r\n\t\t[To ColumnName],\r\n\t\t\"From\",\r\n\t\t[From Cardinality],\r\n\t\t\"To\",\r\n\t\t[To Cardinality],\r\n\t\t\"Cross Filter Behaviour (From]\",\r\n\t\t[Cross Filter Behavior From],\r\n\t\t\"Size\",\r\n\t\t[Used Size],\r\n\t\t\"Max from Cardinality\",\r\n\t\t[From Column Cardinality],\r\n\t\t\"Max To Cardinality\",\r\n\t\t[To Column Cardinality]\r\n\t)\r\n\tORDER BY [From Table Name], [From Column Name]","languageId":"powerbi-api","outputs":[],"metadata":{},"executionSummary":{"timing":{"startTime":1714383615781,"endTime":1714383617317},"executionOrder":11,"success":true}}],"metadata":{"context":{"variables":{},"apiRootPath":"/groups/a796cb5f-5638-491c-aae7-58a8a5365525/datasets/86cb88ab-6c5c-483f-8baf-15016b6a8091","uri":{"$mid":1,"external":"file:///d%3A/SourceControl/GitHub/PowerBI-VSCode/resources/Files/VertipaqAnalyzerDAX.pbinb","path":"/d:/SourceControl/GitHub/PowerBI-VSCode/resources/Files/VertipaqAnalyzerDAX.pbinb","scheme":"file"}}}}